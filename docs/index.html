<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ColorPicker Web Component</title>
  <link rel="stylesheet" href="./style.css">
  <link id="styles" rel="stylesheet" href="./color-picker.css">
</head>
<body>

<h1>ColorPicker Web Component</h1>
<a class="button-appearance switch" id="rtlSwitch" href="#" title="Switch language direction" aria-label="Right To Left Languages Testing">RTL</a>
<p>
  <a target="_blank" href="https://github.com/thednp/color-picker" title="ColorPicker on Github">Github</a> |
  <a target="_blank" href="https://www.jsdelivr.com/package/npm/@thednp/color-picker" title="ColorPicker on jsDelivr CDN">CDN</a> |
  <a target="_blank" href="https://www.npmjs.com/package/@thednp/color-picker" title="ColorPicker on NPM">NPM</a>.
</p>

<h2>Regular Input</h2>
<div class="row">
  <div class="col">
    <label for="picker1">Primary Color</label>
    <div class="color-picker">
      <input type="text" data-function="color-picker" class="color-preview button-appearance" name="picker1" id="picker1" value="#069" data-format="hex" autocomplete="off" spellcheck="false" placeholder="Set color HEXADECIMAL format">
    </div>
    <ul class="mb-5">
      <li>This instance uses the default <code>componentLabels</code> option value.</li>
      <li>This instance uses the default <code>colorLabels</code> option value.</li>
      <li>This instance uses <code>data-format="hex"</code> for the target <code>&lt;input&gt;</code> element.</li>
    </ul>
  </div>
  <div class="col" lang="ro-RO">
    <label for="picker2">Culoare Secundară</label>
    <div class="color-picker">
      <input type="text" data-function="color-picker" class="color-preview button-appearance" name="picker2" id="picker2" value="rgb(0,160,10)" data-format="rgb" autocomplete="off" spellcheck="false"
        placeholder="Aplică culoare în format RGB"
        data-component-labels='{"pickerLabel": "Panel de culori","appearanceLabel": "Aparența vizuală","valueLabel":"Valoarea actuală","toggleLabel": "Selectează culoare", "menuLabel": "Culori prestabilite", "alphaLabel": "Alfa", "hexLabel": "Hexazecimal", "hueLabel": "Nuanță", "saturationLabel": "Saturație", "lightnessLabel": "Luminozitate", "redLabel": "Roșu", "greenLabel": "Verde", "blueLabel": "Albastru"}'
        data-color-labels="alb, negru, gri, roșu, portocaliu, maro, auriu, măsliniu, galben, lămâi, verde, albastru verzui, aqua, albastru, violet, magenta, roz">
    </div>
    <ul class="mb-5">
      <li>This instance uses ro-RO (Romanian) language for the <code>componentLabels</code> option via the <code>data-component-labels</code> attribute.</li>
      <li>This instance uses ro-RO (Romanian) language for the <code>colorLabels</code> option via the <code>data-color-labels</code> attribute.</li>
      <li>This instance uses the default colour format, <code>rgb</code>.</li>
    </ul>
  </div>
  <div class="col">
    <label for="picker3">Accent Color</label>
    <div class="color-picker">
      <input type="text" data-function="color-picker" class="color-preview button-appearance" name="picker3" id="picker3" value="hsl(15,100%,40%)" data-format="hsl" autocomplete="off" spellcheck="false"  placeholder="Set color HSL format">
    </div>
    <ul class="mb-5">
      <li>This instance uses the default <code>componentLabels</code> option value.</li>
      <li>This instance uses the default <code>colorLabels</code> option value.</li>
      <li>This instance uses <code>data-format="hsl"</code> for the target <code>&lt;input&gt;</code> element.</li>
    </ul>
  </div>
</div>

<h2>Custom Element</h2>
<div class="row">
  <div class="col">
    <label for="picker4">Paragraph Color</label>
    <color-picker format="hex">
      <input type="text" class="color-preview button-appearance" name="picker4" id="picker4" value="#9d00a8" autocomplete="off" spellcheck="false" placeholder="Set color HEXADECIMAL format">
    </color-picker>
  </div>
  <div class="col">
    <label for="picker5">Heading Color</label>
    <color-picker format="rgb">
      <input type="text" class="color-preview button-appearance" name="picker5" id="picker5" value="rgb(100,0,200)" autocomplete="off" spellcheck="false" placeholder="Set color RGB format">
    </color-picker>
  </div>
  <div class="col">
    <label for="picker6">Button Color</label>
    <color-picker format="hsl">
      <input type="text" class="color-preview button-appearance" name="picker6" id="picker6" value="hsl(200,100%,40%)" autocomplete="off" spellcheck="false"  placeholder="Set color HSL format">
    </color-picker>  
  </div>
</div>

<p class="copy"><a target="_blank" href="https://github.com/thednp">thednp</a> © 2022</p>


<!-- partial -->
<script src="./color-picker.js"></script>
<!-- <script type="module" src="./dist/js/color-picker-element-esm.js"></script> -->
<script src="./color-picker-element.js"></script>
<script>
  const { init, selector } = ColorPicker;
  [...document.querySelectorAll(selector)].forEach(init);
</script>
<script>
document.querySelectorAll('[data-function="color-picker"]')[2].addEventListener('colorpicker.change', function handleCustomEvent(e) {
  console.log('The "change" event has fired for color-picker#picker3 with new value: '+ e.target.value + '\nThis listener is set to fire *only* once for performance reasons.');
}, {once: true});

const styles = document.getElementById('styles');
const rtlSwitch = document.getElementById('rtlSwitch');
const html = document.documentElement;

rtlSwitch.addEventListener('click', (e) => {
  e.preventDefault();
  const isRTL = html.dir === 'rtl';
  const href = styles.getAttribute('href');
  const href1 = isRTL ? href.replace('.rtl', '') : href.replace('.css', '.rtl.css');
  rtlSwitch.innerText = isRTL ? 'RTL' : 'LTR';
  styles.setAttribute('href', href1);
  html.setAttribute('dir', isRTL ? '' : 'rtl');
});
</script>
</body>
</html>
